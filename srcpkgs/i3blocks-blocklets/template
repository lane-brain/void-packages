# Template file for 'i3blocks-blocklets'
pkgname=i3blocks-blocklets
_commit=154001e5713c26c70063446022919225b6f916f0
version=20201127
revision=1
wrksrc="i3blocks-contrib-${_commit}"
depends="i3blocks>=1.5"
short_desc="Flexible scheduler for i3bar"
maintainer="teldra <teldra@rotce.de>"
license="GPL-3.0-or-later, GPL-3.0-only, GPL-2.0-only"
homepage="https://github.com/vivien/i3blocks-contrib"
distfiles="https://github.com/vivien/i3blocks-contrib/archive/${_commit}.tar.gz"
checksum=05008c567f915657695bee94504911ad2b55c9e36d4717165a963e9410769d2c

do_install() {
	rm -rf .git CONTRIBUTING.md README.md ISSUE_TEMPLATE.md LICENSE.md .gitignore

	vmkdir usr/share/examples/i3blocks/
	vcopy * usr/share/examples/i3blocks/

	vmkdir /usr/libexec/i3blocks
	for folder in $(find ${wrksrc} -mindepth 1 -maxdepth 1 -type d); do
		for file in $(find ${folder##*/} -executable -type f -name "${folder##*/}*"); do
			vinstall ${folder##*/}/${file##*/} 655 usr/libexec/i3blocks
		done
	done
}
