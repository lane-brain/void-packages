# Template file for 'standard-notes'
# format: appimage
_app=standard-notes
pkgname=$"{_app}-appimage"
version=3.5.14
revision=1
build_style=fetch
wrksrc=yes
short_desc="A free, open-source, and completely encrypted notes app."
maintainer="lane-brain <lane@mailbox.org>"
homepage="https://standardnotes.org"
license="AGPL-3.0-or-later"
distfiles="https://github.com/standardnotes/desktop/releases/download/v${version}/standard-notes-${version}-linux-x86_64.AppImage"
checksum=8ef533758303bc37ce693d73f5667d8d28b77114363968a93cc5cf011a0032ba
only_for_archs="x86_64"
nopie=yes
nostrip=yes
_imagefile=${_app}-${version}-linux-x86_64.AppImage

do_install() {
    cd ${wrksrc}
    mv ${XBPS_SRCDISTDIR}/${pkgname}-${version}/${_appimage} ${pkgname}

	vbin ${_appimage} bin/$pkgname
	vinstall ${FILESDIR}/standard-notes.desktop 644 usr/share/applications
}
